import pytest
from D import solve


def test_solve():
    assert solve('A?B?C') == '24'  # 9+3+6+3+1+1+1
    assert solve('??Bc') == '7'  # ?bc 6, ??c 1
    assert solve('??B??') == '48'  # ?b?, ???
    assert solve('A??C') == '8'  # a?c,??c
    assert solve('AB??') == '7'
    assert solve('ABCBC') == '3'
    assert solve('????C?????B??????A???????') == '979596887'
    assert solve('?' * 10**5) == '590369788'
